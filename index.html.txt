<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{background:#0f172a;color:#fff;font-family:Arial;direction:rtl;padding:20px}
h1{text-align:center}
.stats{display:flex;gap:15px;justify-content:center;margin-bottom:20px}
.stat{padding:12px 18px;border-radius:14px}
.green{background:#16a34a}
.red{background:#dc2626}
.dashboard{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px}
.card{border-radius:16px;padding:16px;text-align:center}
.online{background:#16a34a}
.offline{background:#dc2626;animation:blink 1s infinite}
@keyframes blink{50%{opacity:.5}}
</style>
</head>
<body>

<h1>ğŸ–¥ï¸ Ø´Ø§Ø´Ø© Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h1>

<div class="stats">
  <div class="stat green" id="on">ğŸŸ¢ ÙŠØ¹Ù…Ù„: 0</div>
  <div class="stat red" id="off">ğŸ”´ Ù…ØªÙˆÙ‚Ù: 0</div>
</div>

<div class="dashboard" id="dash"></div>

<script>
function load(){
  fetch("status.json?"+Date.now())
  .then(r=>r.json())
  .then(data=>{
    let on=0, off=0;
    dash.innerHTML="";
    data.forEach(d=>{
      d.status==="online"?on++:off++;
      dash.innerHTML+=`
        <div class="card ${d.status}">
          <b>${d.name}</b><br>${d.ip}<br>
          ${d.status==="online"?"ğŸŸ¢ ÙŠØ¹Ù…Ù„":"ğŸ”´ Ù…ØªÙˆÙ‚Ù"}<br>
          <small>${d.time}</small>
        </div>`;
    });
    onEl.innerText="ğŸŸ¢ ÙŠØ¹Ù…Ù„: "+on;
    offEl.innerText="ğŸ”´ Ù…ØªÙˆÙ‚Ù: "+off;
  });
}
const dash=document.getElementById("dash");
const onEl=document.getElementById("on");
const offEl=document.getElementById("off");
load();
setInterval(load,30000);
</script>

</body>
</html>
